{
  "hash": "4464d0cd82315f0cf3c977a4b549b092",
  "result": {
    "markdown": "---\ntitle: \"Age-Length Relationship - Bayesian approach\"\nauthor: \"Benjamin L. Hlina\"\ndate: \"2023-11-12\"\ncategories: [Bayesian framework, Length-Weight Relationship, Fisheries Management]\neditor_options: \n  chunk_output_type: inline\n---\n\n\n### Our objective is to estaimate length at age relationships using a Bayesian framework. \n\n\n\n### Bring in data and packages \n\n\n::: {.cell messages='false' warnings='false'}\n\n```{.r .cell-code}\n{\n  library(dplyr)\n  library(FSAdata)\n  library(ggplot2)\n  library(ggmcmc)\n  library(here)\n  library(patchwork)\n  library(postpack)\n  library(readr)\n  library(tidyr)\n}\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n## FSAdata v0.4.1. See ?FSAdata to find data for specific fisheries analyses.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.3.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: tidyr\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nRegistered S3 method overwritten by 'GGally':\n  method from   \n  +.gg   ggplot2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nhere() starts at E:/Dropbox/CU/Data/blog.github.io\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.3.3\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- WalleyeErie2\nglimpse(dat)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 33,734\nColumns: 9\n$ setID <int> 2003001, 2003001, 2003001, 2003001, 2003001, 2003001, 2003001, 2…\n$ loc   <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ grid  <int> 940, 940, 940, 940, 940, 940, 940, 940, 940, 940, 940, 940, 940,…\n$ year  <int> 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003…\n$ tl    <int> 360, 371, 375, 375, 375, 376, 379, 379, 380, 380, 381, 381, 382,…\n$ w     <int> 460, 571, 507, 584, 537, 553, 500, 522, 525, 543, 511, 543, 563,…\n$ sex   <fct> male, male, male, male, male, male, female, male, male, male, ma…\n$ mat   <fct> mature, mature, mature, mature, mature, mature, immature, mature…\n$ age   <int> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…\n```\n:::\n\n```{.r .cell-code}\nsummary(dat)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     setID              loc             grid           year     \n Min.   :2003001   Min.   :1.000   Min.   : 880   Min.   :2003  \n 1st Qu.:2006041   1st Qu.:1.000   1st Qu.: 987   1st Qu.:2006  \n Median :2009017   Median :2.000   Median :1031   Median :2009  \n Mean   :2008654   Mean   :1.813   Mean   :1060   Mean   :2009  \n 3rd Qu.:2011029   3rd Qu.:2.000   3rd Qu.:1101   3rd Qu.:2011  \n Max.   :2014054   Max.   :3.000   Max.   :1440   Max.   :2014  \n                                                                \n       tl              w            sex              mat       \n Min.   :222.0   Min.   : 104   female:13290   immature: 8496  \n 1st Qu.:395.0   1st Qu.: 587   male  :20444   mature  :25238  \n Median :456.0   Median : 953                                  \n Mean   :457.7   Mean   :1088                                  \n 3rd Qu.:512.0   3rd Qu.:1429                                  \n Max.   :778.0   Max.   :5186                                  \n                 NA's   :413                                   \n      age        \n Min.   : 0.000  \n 1st Qu.: 2.000  \n Median : 3.000  \n Mean   : 3.152  \n 3rd Qu.: 4.000  \n Max.   :20.000  \n                 \n```\n:::\n:::\n\n### Setup data to be sent to JAGS \n\nFirst wee create a predicted age sequence that we will use in our model and also for plot \n\n::: {.cell}\n\n```{.r .cell-code}\npred_age <- seq(0, 20, 0.5) # adjust for plotting this is like tidy::crossing()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\njags_data <- list(\n  n_obs = nrow(dat),\n  length = dat$tl,\n  age = dat$age,\n  pred_age = pred_age,\n  n_pred = length(pred_age)\n)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}